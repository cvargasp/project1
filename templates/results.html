{% extends "layout.html" %}

{% block title %}
    Results
{% endblock %}

{% block head %}
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.21/css/dataTables.bootstrap4.min.css">
{% endblock %}

{% block body %}
	<div class="container">
		<div class="row">
			<div class="col mt-5">
				<table id="myTable" class="table table-hover booksTable">
				  	<thead>
					    <tr>
						    <th scope="col">ISBN</th>
						    <th scope="col">Title</th>
						    <th scope="col">Author</th>
					    </tr>
				  	</thead>
				  	<tbody>
					    {% for book in books %}
					     	<tr class="table-row"data-href="/book/{{book.isbn}}">
					      		<td>{{book.isbn}}</td>
					      		<td>{{book.title}}</td>
					      		<td>{{book.author}}</td>
					    	</tr>
					    {% endfor%}
				  	</tbody>
				  	<tfoot>				  	
				  	</tfoot>
				</table>
			</div>
		</div>		
	</div>
	<script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
	<script src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap4.min.js"></script>
	<script>
		$('.booksTable').DataTable({
			lengthMenu: [[5,10,25,50,-1], [5,10,25,50,"All"]]
		});
	</script>
	<script>
		$('#myTable').on('click', '.table-row', function(){
			window.document.location = $(this).data("href");
	});
	</script>
{% endblock %}
